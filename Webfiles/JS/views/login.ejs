
<script>

    async function login() {
        const current = document.getElementById('accountId').value
        const response = await fetch(`https://someblogagain.co.uk/api/login`, {
            method:"POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                accountNumber: current
            })
        })
        const status = await response.status;
        
        if (status == 200) {
            window.location.href = `https://someblogagain.co.uk/home`
        } else if (status==403) {
            document.getElementById("error").textContent = "This account does not exist."
            document.getElementById("error").style = "color:red"
        } else if (status ==429) {
            document.getElementById("error").textContent = "Ratelimited please wait."
            document.getElementById("error").style = "color:red"
        }
        const data = await response.json();

        
    }
    
    </script>
    
    <html>
        <head>
            <title>Login</title>
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="index.css">
            <link rel="stylesheet" href="navigation.css">
            <!-- W3schools.CSS IMPORTS -->
            <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
            <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-colors-metro.css">
        </head>
    
        <body class="w3-black">
            <div class="navigationElements">
                <div class="w3-bar w3-black w3-border-bottom w3-border-Indigo" id="navigation">
                    <span class="w3-bar-item w3-border-right w3-border-Indigo">Someblogagain</span>
                    <a href="index" class="w3-bar-item w3-button w3-border-right w3-border-Indigo w3-hover-Indigo" style="transition:0.5s">Home</a>
                    <a href="login" class="w3-bar-item w3-button w3-border-right w3-border-Indigo w3-hover-Indigo" style="transition:0.5s">Log In</a>
                    <a href="signup" class="w3-bar-item w3-button w3-border-right w3-border-Indigo w3-hover-Indigo" style="transition:0.5s">Sign Up</a>  
                </div>
        
                <div class="w3-bar w3-black w3-border-top w3-border-Indigo" id="footer">
                    <span class="w3-bar-item w3-border-right w3-border-Indigo" style="font-size:14px;">someblogagain built as college project.</span>
                    <span class="w3-bar-item w3-border-right w3-border-Indigo" style="font-size:14px;">Email: support@someblogagain.co.uk</span>
                    <a href="https://github.com/MalakiaDaley/Blog-Site" class="w3-bar-item w3-button w3-border-right w3-border-Indigo w3-hover-Indigo" style="transition: 0.5s;">GitHub</a>
                    <a href="security" class="w3-bar-item w3-button w3-border-right w3-border-Indigo w3-hover-Indigo" style="transition:0.5s">Security</a>
                </div>
            </div>
            
            <div class="w3-center w3-display-middle w3-border w3-border-Indigo"; style="padding: 40px 40px 40px 40px;">
                <h2>Login</h2>
                <p style="max-width: 600px;">Please insert your account ID you was given when you registered, if you have any concerns on privacy please email at
                    support@someblogagain.co.uk.
                </p>
                <label for="accountId">Account ID:</label>
                <Br>
                <input text="text" id="accountId" class="w3-black w3-border w3-border-Indigo">
                <br>
                <div id="error" style="color:red; display:none">This account does not exist.</div>
                <br>
                <button style="background-color: transparent; border: 0px; color: white; transition: 0.5s; padding:10px 40px 10px 40px;" class="w3-hover-Indigo w3-border w3-border-Indigo" onclick="login();">Login</button>
               </form>
            </div>
    
        </body>
    </html>